import{A as c}from"./songs.Cv0urTgp.js";const u=async(e,o,s)=>{try{if(!e.lyricFragment||e.lyricFragment.trim().length===0)return{success:!1,error:"Se requiere un fragmento de letra para buscar la canción"};const r={"Content-Type":"application/json"};o&&(r.Authorization=`Bearer ${o}`);const t=await fetch(`${s||c}/search/song`,{method:"POST",headers:r,body:JSON.stringify({lyricFragment:e.lyricFragment,artist:e.artist||"",title:e.title||""})});return t.ok?{success:!0,data:await t.json()}:{success:!1,error:(await t.json().catch(()=>({}))).message||"Error al buscar la canción"}}catch(r){return console.error("Error en searchSongByLyrics:",r),{success:!1,error:r instanceof Error?r.message:"Error de conexión con el servidor"}}},y=async(e,o,s)=>{try{if(!e.title||!e.tone||!e.lyrics)return{success:!1,error:"Título, tono y letra son requeridos"};const r={"Content-Type":"application/json"};o&&(r.Authorization=`Bearer ${o}`);const t=await fetch(`${s||c}/generate/autocomplete`,{method:"POST",headers:r,body:JSON.stringify({title:e.title,tone:e.tone,lyrics:e.lyrics})});if(!t.ok){const n=await t.json().catch(()=>({}));return{success:!1,error:n.message||n.error||"Error al generar acordes"}}return{success:!0,data:await t.json()}}catch(r){return console.error("Error en autocompleteChordsWithAI:",r),{success:!1,error:r instanceof Error?r.message:"Error de conexión con el servidor"}}};export{y as autocompleteChordsWithAI,u as searchSongByLyrics};
