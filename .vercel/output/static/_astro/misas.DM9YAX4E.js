import{A as u}from"./songs.DRRN3sIx.js";const h=async(n,o,a="PUBLIC",t)=>{try{const r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);const e=await fetch(`${u}/misas`,{method:"POST",headers:r,body:JSON.stringify({title:n,dateMisa:o,visibility:a})});return e.ok?{success:!0,data:await e.json()}:{success:!1,error:"Error al crear la misa.",data:await e.json()}}catch(r){return console.error("Service exception:",r),{success:!1,error:r instanceof Error?r.message:"Error de conexión."}}},m=async(n,o,a,t,r,e)=>{try{const s={"Content-Type":"application/json"};r&&(s.Authorization=`Bearer ${r}`);let c=`${u}/misas/${n}`;e&&(c+=`?edit_token=${e}`);const i=await fetch(c,{method:"PUT",headers:s,body:JSON.stringify({title:o,dateMisa:a,visibility:t})});return i.ok?{success:!0,data:await i.json()}:{success:!1,error:(await i.json()).error||"Error al actualizar la misa."}}catch(s){return console.error("Service exception:",s),{success:!1,error:s instanceof Error?s.message:"Error de conexión."}}},p=async(n,o,a,t,r,e)=>{try{const s={"Content-Type":"application/json"};r&&(s.Authorization=`Bearer ${r}`);let c=`${u}/misas/${n}/songs`;e&&(c+=`?edit_token=${e}`);const i=await fetch(c,{method:"POST",headers:s,body:JSON.stringify({songId:o,momentId:a,key:t})});return i.ok?{success:!0,data:await i.json()}:{success:!1,error:"Error al agregar la canción.",data:await i.json()}}catch(s){return console.error("Service exception:",s),{success:!1,error:s instanceof Error?s.message:"Error de conexión."}}},y=async(n,o,a,t)=>{try{const r={"Content-Type":"application/json"};a&&(r.Authorization=`Bearer ${a}`);let e=`${u}/misas/${n}/songs/${o}`;return t&&(e+=`?edit_token=${t}`),(await fetch(e,{method:"DELETE",headers:r})).ok?{success:!0}:{success:!1,error:"Error al eliminar la canción."}}catch(r){return console.error("Service exception:",r),{success:!1,error:r instanceof Error?r.message:"Error de conexión."}}},E=async(n,o)=>{try{const a={};o&&(a.Authorization=`Bearer ${o}`);const t=await fetch(`${u}/misas/${n}`,{method:"DELETE",headers:a});return t.ok?{success:!0}:{success:!1,error:(await t.json()).error||"Error al eliminar la misa."}}catch(a){return console.error("Service exception:",a),{success:!1,error:a instanceof Error?a.message:"Error de conexión."}}},$=async(n,o,a,t,r)=>{try{const e={"Content-Type":"application/json"};t&&(e.Authorization=`Bearer ${t}`);let s=`${u}/misas/${n}/songs/${o}`;r&&(s+=`?edit_token=${r}`);const c=await fetch(s,{method:"PUT",headers:e,body:JSON.stringify({key:a})});return c.ok?{success:!0,data:await c.json()}:{success:!1,error:(await c.json()).error||"Error al actualizar la canción."}}catch(e){return console.error("Service exception:",e),{success:!1,error:e instanceof Error?e.message:"Error de conexión."}}};export{p as a,m as b,h as c,E as d,y as r,$ as u};
