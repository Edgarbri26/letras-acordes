import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.WFquGv8Z.js";const v=({id:c,onTranspose:o,onToggleChords:r,onPrint:d,canEdit:m})=>{const l=t=>{if(o)o(t);else if(typeof window<"u"){const j=new CustomEvent("song-transpose",{detail:{semitones:t}});window.dispatchEvent(j)}},x=()=>{if(r)r();else if(typeof window<"u"){const t=new CustomEvent("song-toggle-chords");window.dispatchEvent(t)}},[s,h]=i.useState(!0),[n,f]=i.useState(!1);i.useEffect(()=>{const t=()=>f(window.innerWidth<768);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const w=()=>h(!s),p=`w-16 flex flex-col items-center py-4 gap-4 sticky top-16 h-[calc(100vh-4rem)] border-r border-white/5 md:flex no-print transition-all duration-300 ease-in-out overflow-visible z-40 bg-bg-main
        ${n?s?"w-16 border-r py-4":"w-0 border-none p-0 min-w-0":s?"w-56":"w-16"}`,u=`p-2 text-text-secondary hover:text-accent-main transition-all duration-300 absolute top-4 z-50 rounded-full
        ${n?s?"right-1/2 translate-x-1/2 bg-bg-main":"left-2 bg-bg-secondary shadow-lg":"right-1/2 translate-x-1/2 bg-bg-main"}`,g=`fa-solid fa-arrow-left transition-transform duration-300
        ${s?"":"rotate-180"}`,a=`tool-label whitespace-nowrap overflow-hidden transition-all duration-300
        ${n?"hidden md:block opacity-0 w-0":s?"block opacity-100 w-auto":"hidden opacity-0 w-0"}`;return e.jsxs("aside",{id:"song-tools-aside",className:p,children:[e.jsx("button",{id:"btn-toggle-tools",className:u,title:"Ocultar herramientas",onClick:w,children:e.jsx("i",{className:g})}),e.jsxs("div",{className:`flex flex-col items-center gap-4 mt-12 w-full transition-opacity duration-300 overflow-hidden ${!s&&n?"opacity-0 pointer-events-none":"opacity-100"}`,children:[e.jsxs("div",{className:"flex flex-col gap-2 w-full px-2 items-center md:items-stretch",children:[e.jsxs("button",{onClick:()=>l(1),className:"flex items-center justify-center md:justify-start gap-3 p-2 text-text-secondary hover:text-accent-main transition font-bold rounded-lg hover:bg-white/5 w-full",title:"Subir Tono",children:[e.jsx("i",{className:"fa-solid fa-plus w-5 h-5 flex items-center justify-center"}),e.jsx("span",{className:a,children:"Subir Tono"})]}),e.jsx("span",{className:"text-xs text-text-secondary md:hidden mb-1",children:"Tono"}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center justify-center md:justify-start gap-3 p-2 text-text-secondary hover:text-accent-main transition font-bold rounded-lg hover:bg-white/5 w-full",title:"Bajar Tono",children:[e.jsx("i",{className:"fa-solid fa-minus w-5 h-5 flex items-center justify-center"}),e.jsx("span",{className:a,children:"Bajar Tono"})]})]}),e.jsx("div",{className:"h-px w-8 bg-white/10 my-1"}),e.jsxs("button",{onClick:x,className:"flex items-center justify-center md:justify-start gap-3 p-2 text-text-secondary hover:text-accent-main transition rounded-lg hover:bg-white/5 w-[calc(100%-1rem)]",title:"Alternar Acordes",children:[e.jsx("i",{className:"fa-solid fa-music w-5 h-5 flex items-center justify-center"}),e.jsx("span",{className:a,children:"Acordes"})]}),e.jsx("div",{className:"h-px w-8 bg-white/10 my-1"}),e.jsxs("button",{onClick:d,className:"flex items-center justify-center md:justify-start gap-3 p-2 text-text-secondary hover:text-accent-main transition rounded-lg hover:bg-white/5 w-[calc(100%-1rem)]",title:"Descargar",children:[e.jsx("i",{className:"fa-solid fa-download w-5 h-5 flex items-center justify-center"}),e.jsx("span",{className:a,children:"Descargar"})]}),e.jsx("div",{className:"h-px w-8 bg-white/10 my-1"}),e.jsxs("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:document.title,url:window.location.href})}catch(t){console.error("Error sharing:",t)}else try{await navigator.clipboard.writeText(window.location.href),alert("Enlace copiado al portapapeles")}catch(t){console.error("Failed to copy:",t)}},className:"flex items-center justify-center md:justify-start gap-3 p-2 text-text-secondary hover:text-accent-main transition rounded-lg hover:bg-white/5 w-[calc(100%-1rem)]",title:"Compartir",children:[e.jsx("i",{className:"fa-solid fa-share-nodes w-5 h-5 flex items-center justify-center"}),e.jsx("span",{className:a,children:"Compartir"})]}),m&&e.jsxs("a",{href:`/songs/edit/${c}`,className:"flex items-center justify-center md:justify-start gap-3 p-2 text-text-secondary hover:text-accent-main transition rounded-lg hover:bg-white/5 w-[calc(100%-1rem)]",title:"Editar",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-pencil",children:[e.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),e.jsx("path",{d:"m15 5 4 4"})]}),e.jsx("span",{className:a,children:"Editar"})]})]})]})};export{v as SongToolsReact};
